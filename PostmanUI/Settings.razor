@layout Layout
@using System

<div class="grid grid-cols-1 lg:grid-cols-1 gap-8">
    <section class="bg-white rounded-lg shadow-md p-6">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-3xl font-bold mb-6">Postman API Key Status</h1>

            @if (isApiKeySet)
            {
                <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4" role="alert">
                    <p class="font-bold">API Key is set</p>
                    <p>The POSTMAN_APIKEY environment variable is correctly configured.</p>
                </div>
            }
            else
            {
                <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
                    <p class="font-bold">API Key is not set</p>
                    <p>The POSTMAN_APIKEY environment variable is not configured. Please set it to use the Postman API.</p>
                </div>
            }

            <div class="mt-8">
                <h2 class="text-2xl font-semibold mb-4">How to set the API Key</h2>
                <ol class="list-decimal list-inside space-y-2">
                    <li>Obtain your Postman API Key from the Postman dashboard.</li>
                    <li>Set the environment variable POSTMAN_APIKEY with your API key value.</li>
                    <li>Restart the application for the changes to take effect.</li>
                </ol>
            </div>
        </div>
    </section>
</div>

@code {
    private bool isApiKeySet;

    protected override void OnInitialized()
    {
        isApiKeySet = !string.IsNullOrEmpty(Environment.GetEnvironmentVariable("POSTMAN_APIKEY"));
    }
}

